patterns:
- pattern: testing/*
  insights:
  - The pyproject.toml includes '--cov' flags in pytest addopts, requiring pytest-cov
    to be installed. Running 'pytest -q' without dev dependencies causes the entire
    test suite to fail. Consider making coverage flags conditional or ensuring dev
    dependencies are always installed in CI.
  revision_rate: null
  success_rate: 0.0
  avg_duration: null
  recommended_workflow: null
  tags:
  - testing
  - technical
  sample_count: 1
- pattern: architecture/*
  insights:
  - 'The implemented core.py uses a clean pipeline: discover_sessions() finds files
    by source patterns, parse_session_file() converts to BaseSession objects, and
    analyze() computes statistics and detects patterns. This separation of concerns
    enables unit testing each stage independently.'
  revision_rate: null
  success_rate: 0.0
  avg_duration: null
  recommended_workflow: null
  tags:
  - architecture
  - technical
  sample_count: 1
- pattern: code-review/*
  insights:
  - QA agent approval message explicitly states which commands were run and passed
    ('uv run session-insights --help and uv run pytest passed'). This provides evidence-based
    approval rather than subjective assessment, making it clear what was verified.
  revision_rate: null
  success_rate: 1.0
  avg_duration: null
  recommended_workflow: null
  tags:
  - code-review
  - process
  sample_count: 1
- pattern: workflow/*
  insights:
  - Dev agents that create files but fail to 'git add' and 'git commit' before signaling
    'done' cause false failures. QA agents verify committed code state, not working
    directory. The dev agent must always commit work before signaling completion to
    ensure QA can verify the implementation.
  revision_rate: null
  success_rate: 0.0
  avg_duration: null
  recommended_workflow: null
  tags:
  - workflow
  - process
  sample_count: 1
- pattern: reliability/*
  insights:
  - The dev agent completed substantial work (cli.py with 200+ lines, core.py with
    250+ lines) but was terminated after 248 seconds. Long-running implementations
    without regular heartbeat calls cause workflow infrastructure to assume the agent
    is unresponsive and terminate it. Agents should call heartbeat after completing
    each major action (file creation, test execution).
  revision_rate: null
  success_rate: 0.0
  avg_duration: null
  recommended_workflow: null
  tags:
  - reliability
  - process
  sample_count: 1
- pattern: workflow-coordination/*
  insights:
  - 'Watcher agent monitors workflow state and emits progress signals documenting
    key transitions (dev done, QA approved, commit hash). This creates a complete
    audit trail and enables post-workflow analysis. The final watcher signal summarized:
    ''Dev implemented CLI, QA approved, changes committed (48e0730)''.'
  revision_rate: null
  success_rate: 1.0
  avg_duration: null
  recommended_workflow: null
  tags:
  - workflow-coordination
  - process
  sample_count: 1
- pattern: implementation/*
  insights:
  - 'The implemented ClaudeParser uses a solid architecture: abstract BaseParser/BaseSession
    classes for future parser extensions, Pydantic models with field aliases for JSON
    mapping, and graceful handling of multiple entry points (.claude dir, projects
    dir, or direct session files). This design enables adding new parsers (Cursor,
    Copilot) by extending the base classes.'
  revision_rate: null
  success_rate: 0.0
  avg_duration: null
  recommended_workflow: null
  tags:
  - implementation
  - technical
  sample_count: 1
- pattern: debugging/*
  insights:
  - When QA reports 'no implementation found' after dev claims completion, first run
    'git status' in the worktree. Untracked files indicate the dev agent completed
    the code but failed to commit. This is a common failure mode fixable by manually
    committing the orphaned files.
  revision_rate: null
  success_rate: 0.0
  avg_duration: null
  recommended_workflow: null
  tags:
  - debugging
  - process
  sample_count: 1
