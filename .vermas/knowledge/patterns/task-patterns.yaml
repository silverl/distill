patterns:
- pattern: testing/*
  insights:
  - The pyproject.toml has '--cov' flags in pytest addopts, requiring pytest-cov to
    be installed. When dev dependencies are not installed (e.g., running 'pytest -q'
    without dev extras), the test command fails entirely. Consider making coverage
    optional or checking for the plugin before enabling coverage flags.
  revision_rate: null
  success_rate: 0.0
  avg_duration: null
  recommended_workflow: null
  tags:
  - testing
  - technical
  sample_count: 1
- pattern: architecture/*
  insights:
  - 'The implemented core.py uses a clean pipeline: discover_sessions() finds files
    by source patterns, parse_session_file() converts to BaseSession objects, and
    analyze() computes statistics and detects patterns. This separation of concerns
    enables unit testing each stage independently.'
  revision_rate: null
  success_rate: 0.0
  avg_duration: null
  recommended_workflow: null
  tags:
  - architecture
  - technical
  sample_count: 1
- pattern: code-review/*
  insights:
  - QA agent approval message explicitly states which commands were run and passed
    ('uv run session-insights --help and uv run pytest passed'). This provides evidence-based
    approval rather than subjective assessment, making it clear what was verified.
  revision_rate: null
  success_rate: 1.0
  avg_duration: null
  recommended_workflow: null
  tags:
  - code-review
  - process
  sample_count: 1
- pattern: workflow/*
  insights:
  - The dev agent created cli.py and core.py with substantial implementation but left
    them as untracked files. QA agent found no implementation because it checked the
    committed branch state. Dev agents must always run 'git add' and 'git commit'
    before signaling 'done' to QA.
  revision_rate: null
  success_rate: 0.0
  avg_duration: null
  recommended_workflow: null
  tags:
  - workflow
  - process
  sample_count: 1
- pattern: reliability/*
  insights:
  - The workflow detected 'agents died' for the dev role after 248 seconds. Long-running
    implementations without regular heartbeats can cause workflow infrastructure to
    terminate the agent. Agents should call heartbeat after completing each significant
    action (file creation, test run) and especially during long operations.
  revision_rate: null
  success_rate: 0.0
  avg_duration: null
  recommended_workflow: null
  tags:
  - reliability
  - process
  sample_count: 1
- pattern: workflow-coordination/*
  insights:
  - 'Watcher agent monitors workflow state and emits progress signals documenting
    key transitions (dev done, QA approved, commit hash). This creates a complete
    audit trail and enables post-workflow analysis. The final watcher signal summarized:
    ''Dev implemented CLI, QA approved, changes committed (48e0730)''.'
  revision_rate: null
  success_rate: 1.0
  avg_duration: null
  recommended_workflow: null
  tags:
  - workflow-coordination
  - process
  sample_count: 1
- pattern: implementation/*
  insights:
  - 'The implemented ClaudeParser uses a solid architecture: abstract BaseParser/BaseSession
    classes for future parser extensions, Pydantic models with field aliases for JSON
    mapping, and graceful handling of multiple entry points (.claude dir, projects
    dir, or direct session files). This design enables adding new parsers (Cursor,
    Copilot) by extending the base classes.'
  revision_rate: null
  success_rate: 0.0
  avg_duration: null
  recommended_workflow: null
  tags:
  - implementation
  - technical
  sample_count: 1
- pattern: debugging/*
  insights:
  - When QA reports 'no implementation found' but dev claims work is done, first check
    'git status' in the worktree. Untracked or unstaged files indicate the dev agent
    completed code but failed to commit it. This is a common failure mode when agents
    focus on implementation and forget the commit step.
  revision_rate: null
  success_rate: 0.0
  avg_duration: null
  recommended_workflow: null
  tags:
  - debugging
  - process
  sample_count: 1
